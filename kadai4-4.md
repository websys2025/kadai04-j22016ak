## 自動販売機（オブジェクト、DOM、イベント処理）のミニレポート
### Q4-1. Itemクラスのメソッドについて説明せよ。
---  

#### ・showItemListがクラスメソッドである理由を考察せよ。  
クラスメソッドである理由は主に二つあると考える。  
まず一つはクラスメソッドを宣言することでインスタンスメソッドを使用できるからだ。  
インスタンスメソッドを使用することで同じ処理を何度も記述せずに使用が可能だ。  
二つ目にコードの構造を理解しやすくできることだ。例えばクラス変数の管理やクラス全  
体に影響を与える処理を実装することができる。そうすることで変数を減らすことができ、  
理解しやすいプログラムが記述できる。  

#### ・buyItemがインスタンスメソッドである理由を考察せよ。
クラスの中で定義されているbuyItemは同じクラス内であれば何度でも呼び出すことができる。  
そのため今回のようにボタンがクリックされると何度も購入の処理を行うようなbuyItemはイス  
タンスメソッドにすることで同じ処理を使いまわすことができる。よってbuyItemはインスタン  
スメソッドで宣言されている。

### Q4-2. 商品の購入ボタンをクリックすると、どのような処理でセルの値が減少するか説明せよ。
---  
ボタンがクリックされるとイベントハンドラーを使用し、クリックしたというGUIを捕まえる。   
**item_list[i].buyItem**この分でクリックされた商品のデータ1行分が**buyItem**に送信される。  
商品購入のインスタンスメソッドである**buyItem**が商品データを受け取り、**this.stock=this  
.stock-1**で在庫を一つ減らしている。連想配列でメソッドに送っているためインスタンスメソッド  
でも、クラスメソッドでも一つ減らした値が受け継がれている。  
  
#### ・購入された商品の在庫数のセルをどのようにして特定するのか説明せよ。  
今回のプログラムの場合、表の行と列の指定をする必要がある。そのためにhtmlタグのidを利用し、  
行と列の指定を行った。まずは在庫数、つまり列の指定をするためにidに**remain**を指定した。    
次に行の指定をするために**remain**に1つずつ番号を付与した。例えば**コーヒー**が購入され  
ていた場合、remain7がidとして指名される。こうして商品の在庫数のセルの指定を行った。  
    
#### ・特定したセルの値をどのように変更するのか説明せよ。  
購入が押された商品の行は**item_list[i].buyItem**によってbuyItemに引き渡される。buyItemには  
1つの商品の情報がすべて格納されている。そのため商品idや在庫数が使用できる。在庫数を減らしたい  
場合はthis.stock=this.stock-1とすることで商品の在庫を減らすことができる。配列で行っているため、  
こちらの変更はメインでも引き継がれる。  
  
### Q4-3. 感想  
---
#### ・今回の課題で苦労したこと
今回の課題ではどのように表のセルを指定するか苦労した。idを使用して列を指定することは、  
すぐに思いついたが列の指定をどうするかに時間を要した。悩んでいるときは、remainArea.innerHTMLを  
remainArea[this.id].innerHTMLと、どうにかして行の指定を行おうとしていたが、    
<button id=button"+item_list[i].id+">の部分を見て、これと同じように  
すればよいのではと考え、<td id=remain"+i+">と変更することで行の指定ができた。
  
#### ・演習を通して理解できたこと
インスタンスとクラスについて深く知ることができた。  
またidを工夫することで表のセルを指定できることを知り、連想配列とidの特性をつかむことができた。  
  
#### ・この自動販売機プログラムの追加機能や課題など
追加機能として主に三点の追加を行った。行ったものは以下のとおりである。  
* 1,金額の投入  
  金額を入力させるためにラベルタグと入力した値を処理するためボタンタグを用意した。  
  金額は変数moneyに格納し、**function button_money**で、moneyに代入を行った。  
  購入結果を表示させるための変数は**back_money**でid=**okane**の部分にアクセスした。  
    
* 2,商品の購入  
  **if money>=this.price**の条件を用いて、残金で商品を購入できるかどうか分岐する。  
  購入できる場合は**total_money**に残金を記録させ、**back_money.innerHTML**を、  
  で購入した商品と、残金を表示させた。  
* 3,残金が不足していた場合のエラー出力  
  **if money>=this.price**の条件を用いて、残金で商品を購入できるかどうか分岐する。  
  購入できない場合は、**back_money.innerHTML**で残金が不足していることを表示させた。
